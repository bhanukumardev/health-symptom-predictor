╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║                   🚨 URGENT: DATABASE_URL UPDATE REQUIRED 🚨                 ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────────┐
│ ✅ GOOD NEWS                                                                 │
└──────────────────────────────────────────────────────────────────────────────┘

  ✅ Backend deployed successfully on Render
  ✅ Service is LIVE at: https://health-symptom-predictor.onrender.com
  ✅ Health endpoint working (200 OK)
  ✅ All environment variables are set

┌──────────────────────────────────────────────────────────────────────────────┐
│ ❌ PROBLEM                                                                   │
└──────────────────────────────────────────────────────────────────────────────┘

  ❌ Login endpoint fails with 500 error
  ❌ DATABASE_URL still points to OLD Render PostgreSQL
  ❌ Need to update to NEW Supabase connection

┌──────────────────────────────────────────────────────────────────────────────┐
│ 🎯 ACTION REQUIRED NOW (2 MINUTES)                                           │
└──────────────────────────────────────────────────────────────────────────────┘

  1. Open in browser: https://dashboard.render.com/web/srv-d3hu4l3uibrs73b7kfb0
     (This is your health-symptom-predictor service)

  2. Click: "Environment" tab (left sidebar)

  3. Find: DATABASE_URL variable

  4. Click: Edit button (pencil icon)

  5. REPLACE the current value with this EXACT string:

     postgresql://postgres:Bhanu123%40@db.txhohvmugqptewlvuhfn.supabase.co:5432/postgres?sslmode=require

  6. Click: Save Changes

  7. Render will auto-redeploy (takes ~2 minutes)

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📋 COPY-PASTE READY DATABASE_URL                                             │
└──────────────────────────────────────────────────────────────────────────────┘

postgresql://postgres:Bhanu123%40@db.txhohvmugqptewlvuhfn.supabase.co:5432/postgres?sslmode=require

┌──────────────────────────────────────────────────────────────────────────────┐
│ ✅ HOW TO VERIFY IT WORKED                                                   │
└──────────────────────────────────────────────────────────────────────────────┘

  After Render finishes redeploying (watch for "Live" status), run:

  cd "c:\Projects\AI Project\health-symptom-predictor"
  .\TEST_AFTER_DATABASE_UPDATE.ps1

  Expected: ✅ ALL TESTS PASSED!

┌──────────────────────────────────────────────────────────────────────────────┐
│ 🧪 MANUAL QUICK TEST                                                         │
└──────────────────────────────────────────────────────────────────────────────┘

  Test login after DATABASE_URL update:

  $body = @{username='kumarbhanu818@gmail.com'; password='Bhanu123'}
  Invoke-RestMethod -Uri 'https://health-symptom-predictor.onrender.com/api/auth/login' -Method Post -Body $body -ContentType 'application/x-www-form-urlencoded'

  Should return:
  {
    "access_token": "eyJ0eXAi...",
    "token_type": "bearer"
  }

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📱 TEST FRONTEND AFTER                                                       │
└──────────────────────────────────────────────────────────────────────────────┘

  1. Open: https://health-symptom-predictor.netlify.app
  2. Click: Login
  3. Enter: kumarbhanu818@gmail.com / Bhanu123
  4. Should work! ✅

┌──────────────────────────────────────────────────────────────────────────────┐
│ ⏱️ TIMELINE                                                                  │
└──────────────────────────────────────────────────────────────────────────────┘

  Step 1: Update DATABASE_URL on Render         → 1 minute
  Step 2: Wait for Render to redeploy           → 2-3 minutes  
  Step 3: Test backend endpoints                → 1 minute
  Step 4: Test frontend                         → 1 minute
  
  Total: ~5-6 minutes to full completion! 🚀

╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║  Everything else is DONE! Just update this ONE environment variable! ✅     ║
║                                                                              ║
║  Direct link: https://dashboard.render.com/web/srv-d3hu4l3uibrs73b7kfb0    ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
